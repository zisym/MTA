<!DOCTYPE html>
<html>
    <head>
        	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Trailer Collection</title>
		<link rel="stylesheet" href="CSS/theme1.min.css" />
		<link rel="stylesheet" href="CSS/jquery.mobile.icons.min.css" />
		<link rel="stylesheet" href="jquerymobile/jquery.mobile.structure-1.4.2.min.css" />
		<script src="jquerymobile/jquery-1.11.0.min.js"></script>
       <script type="text/javascript">
    $(document).bind("mobileinit", function() {
        $.support.cors = true;
        $.mobile.allowCrossDomainPages = true;
    });
</script>
		<script src="jquerymobile/jquery.mobile-1.4.2.min.js"></script>
          <script type="text/javascript">
    // Listener that will invoke the onDeviceReady() function as soon as phonegap has loaded properly
    document.addEventListener("deviceready", onDeviceReady, false);
function onDeviceReady() {
        navigator.splashscreen.hide();

        document.addEventListener("backbutton", onBackClickEvent, false); // Adding the back button listener    

    }
    </script>
        <script>
        function goTo(url){
            window.location.href=url+"";
        }
        </script>
    </head>
    <body>
    	<div>
		

	
      <div data-role="header" data-position="fixed">
        <h1>MTA</h1>
        <a href="#" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a> 
       </div><!-- /header -->
        
      <div data-role="content" data-theme="a">
      
      <div data-role="footer" >
			
		 <script type="text/javascript">
      function getvar()
      {
         var videolist = 'connect to db and then get list';
         
         
      }
      
      
    </script>
			<div>
				
				 <label>Select sorting type</label>
             <select id = "myList">
               <option value = "1">new release</option>
               <option value = "2">popular</option>
               <option value = "3">all</option>
               <option value = "4">type4</option>
             </select>
           <input id="search" type="text" placeholder="Search Key Word" onfocus="clearThis(this)"><br />
			</div>
		
				<script>
			
			function getData(){
				
					var v;
	
	var n=1;
	
	var newest=[];
	var popular=[];
	var classic=[];
	
newestvideos=[1,2,3];
popularvideos=[4,5,6];
classicvideos=[7,8,9];



$(document).ready( function() {
 
	var xmlhttp;
	
	

if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }

xmlhttp.open("GET","http://remoteriver.eicp.net/trailercollection/videoinfo.php",true);
xmlhttp.send();
xmlhttp.onreadystatechange=function(){
  	if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
		
	
	var x=xmlhttp.responseText;
	//document.getElementById("d1").innerHTML=x;
	v=jQuery.parseJSON(x);
	
	//document.getElementById("d1").innerHTML=v.videos[3].video_id;
		for(var i=0;i<v.videos.length-1;i++)
		{
			if(v.videos[i].category=="newest")
			{
				newest.push(v.videos[i]);
			}
			if(v.videos[i].category=="popular")
			{
				popular.push(v.videos[i]);
			}
			if(v.videos[i].category=="classic")
			{
				classic.push(v.videos[i]);
			}
			
		}//assign videos to 3 categories

    }
    
    if(newest.length>0)
	{ 	
		
		document.getElementById("div2").innerHTML+="<div class='thumbnails_a'><a href='' onclick='goVideoPlayer("+newest[0].video_id+")'><img src='image/"+newest[0].video_id+".jpg' ></a></div>";
		
		for(var i=1;i<newest.length;i++)
		{
			document.getElementById("div2").innerHTML+="<div class='thumbnails_b'><a href='' onclick='goVideoPlayer("+newest[i].video_id+")'><img src='image/"+newest[i].video_id+".jpg' ></a></div>";
		}
	}//newest

	if(popular.length>0)
	{
		document.getElementById("div1").innerHTML+="<div class='thumbnails_a'><a href='' onclick='goVideoPlayer("+popular[0].video_id+")'><img src='image/"+popular[0].video_id+".jpg' ></a></div>";
	
		for(var i=1;i<popular.length;i++)
		{
			document.getElementById("div1").innerHTML+="<div class='thumbnails_b'><a href='' onclick='goVideoPlayer("+popular[i].video_id+")'><img src='image/"+popular[i].video_id+".jpg' ></a></div>";
		}
	}//popular

	if(classic.length>0)
	{
		document.getElementById("div3").innerHTML+="<div class='thumbnails_a'><a href='' onclick='goVideoPlayer("+classic[0].video_id+")'><img src='image/"+classic[0].video_id+".jpg' ></a></div>";
		for(var i=1;i<classic.length;i++)
		{
			document.getElementById("div3").innerHTML+="<div class='thumbnails_b'><a href='' onclick='goVideoPlayer("+classic[i].video_id+")'><img src='image/"+classic[i].video_id+".jpg' ></a></div>";
		}
	
	}//classic
    
 }
		});		
			}
			
			
	
function outputTable(arr){
			document.write('<table border="1" cellspacing="1" cellpadding="5">')

			for(i = 0; i < arr.length; i++){
  				 document.write('<tr>')
  			 for (j = 0; j < 3; j++){
  	  			  document.write('<td>row ' + i + ', column ' + j + '</td>')
  				 }
  				 document.write('</tr>')
				}

			document.write('</table>')
}
				</script>
				

			</div>
		
    </body>
</html>
